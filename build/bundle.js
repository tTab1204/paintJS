(()=>{const e=document.getElementById("jsCanvas"),t=e.getContext("2d"),n=document.getElementsByClassName("jsColor"),o=document.getElementById("jsRange"),i=document.getElementById("jsMode"),l=document.getElementById("jsSave"),d=500;e.width=d,e.height=d,t.fillStyle="white",t.fillRect(0,0,d,d),t.strokeStyle="",t.fillStyle="",t.lineWidth=2.5;let c=!1,s=!1;function a(){c=!1}function r(e){const n=e.target.style.backgroundColor;t.strokeStyle=n,t.fillStyle=t.strokeStyle}e&&(e.addEventListener("mousemove",(function(e){const n=e.offsetX,o=e.offsetY;c?(t.lineTo(n,o),t.stroke()):(t.beginPath(),t.moveTo(n,o))})),e.addEventListener("mousedown",(function(){c=!0})),e.addEventListener("mouseup",a),e.addEventListener("mouseleave",a),e.addEventListener("click",(function(){s&&t.fillRect(0,0,e.width,e.height)})),e.addEventListener("contextmenu",(function(e){e.preventDefault()}))),Array.from(n).forEach((e=>e.addEventListener("click",r))),o&&o.addEventListener("input",(function(e){const n=e.target.value;t.lineWidth=n})),i&&i.addEventListener("click",(function(){!0===s?(s=!1,i.innerText="Fill"):(s=!0,i.innerText="Paint")})),l&&l.addEventListener("click",(function(){const t=e.toDataURL("image/png"),n=document.createElement("a");n.href=t,n.download="paintJS",n.click()}))})();